(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{467:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/debug",function(){return n(7434)}])},4987:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var o=n(5893),i=n(7294),r=n(7522),s=n(5544);function l(){let t=(0,i.useContext)(r.hg),e=t.connectionStatus?(0,o.jsx)("i",{className:"bi bi-check-circle",style:{color:"green"}}):(0,o.jsx)("i",{className:"bi bi-x-circle",style:{color:"red"}}),n=t.connectionStatusStellarium?(0,o.jsx)("i",{className:"bi bi-check-circle",style:{color:"green"}}):(0,o.jsx)("i",{className:"bi bi-x-circle",style:{color:"red"}});return(0,o.jsxs)("div",{className:"mb-2",children:[(0,o.jsxs)("span",{className:"me-3",children:["Dwarf II: ",e]}),(0,o.jsxs)("span",{className:"me-3",children:["Stellarium: ",n]}),void 0!==t.astroSettings.gain&&(0,o.jsxs)("span",{className:"me-3",children:["Gain: ",t.astroSettings.gain]}),void 0!==t.astroSettings.exposure&&(0,o.jsxs)("span",{className:"me-3",children:["Exp: ",t.astroSettings.exposure]}),void 0!==t.astroSettings.IR&&(0,o.jsxs)("span",{className:"me-3",children:["IR: ",t.astroSettings.IR===s.zC?"Cut":"Pass"]}),void 0!==t.astroSettings.binning&&(0,o.jsxs)("span",{className:"me-3",children:["Bin: ",0==t.astroSettings.binning?"1x1":"2x2"]}),void 0!==t.astroSettings.count&&(0,o.jsxs)("span",{className:"me-3",children:["Count: ",t.astroSettings.count]}),Object.keys(t.imagingSession).length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"me-3",children:["Taken: ",t.imagingSession.imagesTaken]}),(0,o.jsxs)("span",{className:"me-3",children:["Time: ",t.imagingSession.sessionElaspsedTime]})]})]})}},2526:function(t,e,n){"use strict";function o(t){localStorage.setItem("latitude",t.toString())}function i(t){localStorage.setItem("longitude",t.toString())}function r(){let t=localStorage.getItem("latitude"),e=localStorage.getItem("longitude");return"string"==typeof t&&"string"==typeof e?{latitude:Number(t),longitude:Number(e)}:{}}function s(t){localStorage.setItem("connectionStatus",t?"true":"false")}function l(){let t=localStorage.getItem("connectionStatus");if(t)return"true"===t}function a(){localStorage.setItem("initialConnectionTime",Date.now().toString())}function c(){let t=localStorage.getItem("initialConnectionTime");if(t)return Number(t)}function u(t){localStorage.setItem("IPDwarf",t)}function g(){let t=localStorage.getItem("IPDwarf");if(t)return t}function f(t){localStorage.setItem("connectionStatusStellarium",t?"true":"false")}function m(){let t=localStorage.getItem("connectionStatusStellarium");if(t)return"true"===t}function S(t){localStorage.setItem("IPStellarium",t)}function d(){let t=localStorage.getItem("IPStellarium");if(t)return t}function I(t){localStorage.setItem("portStellarium",t.toString())}function v(){let t=localStorage.getItem("portStellarium");if(t)return Number(t)}function N(t){localStorage.setItem("urlStellarium",t)}function h(){let t=localStorage.getItem("urlStellarium");if(t)return t}function b(t){localStorage.setItem("objectListsNames",t)}function j(){let t=localStorage.getItem("objectListsNames");if(t){let e=t.split("|");return e.sort(),e}}function p(t){localStorage.setItem("objectLists",t)}function x(){let t=localStorage.getItem("objectLists");if(t)return JSON.parse(t)}function C(t){localStorage.setItem("currentObjectListName",t)}function O(){let t=localStorage.getItem("currentObjectListName");if(t)return t}function w(t){localStorage.setItem("currentUserObjectListName",t)}function L(){let t=localStorage.getItem("currentUserObjectListName");if(t)return t}function k(){let t=localStorage.getItem("astroSettings");if(t){let e=JSON.parse(t);return["IR","binning","count","exposure","exposureMode","fileFormat","gain","gainMode"].forEach(t=>{void 0!==e[t]&&/^\d+$/.test(e[t])&&(e[t]=Number(e[t]))}),e}}function y(t,e){let n=localStorage.getItem("astroSettings");if(n){let o=JSON.parse(n);void 0===e?delete o[t]:o[t]=e,localStorage.setItem("astroSettings",JSON.stringify(o))}else localStorage.setItem("astroSettings",JSON.stringify({[t]:e}))}function E(){let t=localStorage.getItem("imagingSession");if(t){let e=JSON.parse(t);return["startTime","imagesTaken"].forEach(t=>{void 0!==e[t]&&(e[t]=Number(e[t]))}),e}}function P(t,e){let n=localStorage.getItem("imagingSession");if(n){let o=JSON.parse(n);void 0===e?delete o[t]:o[t]=e,localStorage.setItem("imagingSession",JSON.stringify(o))}else localStorage.setItem("imagingSession",JSON.stringify({[t]:e}))}function _(){localStorage.removeItem("imagingSession")}function D(){let t=localStorage.getItem("loggerStatus");if(t)return"true"===t}function T(t){localStorage.setItem("loggerStatus",t)}function J(){let t=localStorage.getItem("logMessages");if(t)return JSON.parse(t)}function M(t){let e=J();e?(e.push(t),localStorage.setItem("logMessages",JSON.stringify(e))):localStorage.setItem("logMessages",JSON.stringify([t]))}function z(){localStorage.removeItem("logMessages")}n.d(e,{$W:function(){return k},Bk:function(){return d},DE:function(){return E},ER:function(){return x},Fs:function(){return c},G0:function(){return z},GL:function(){return a},Gj:function(){return T},L2:function(){return v},M8:function(){return M},Nj:function(){return _},Tq:function(){return p},V6:function(){return C},Y8:function(){return m},Y_:function(){return f},Yc:function(){return l},db:function(){return g},j2:function(){return L},lW:function(){return O},m1:function(){return j},mo:function(){return P},nV:function(){return y},n_:function(){return w},nj:function(){return I},og:function(){return u},on:function(){return r},oy:function(){return o},q$:function(){return J},qz:function(){return S},tM:function(){return h},vv:function(){return b},wz:function(){return s},yH:function(){return D},z4:function(){return i},zn:function(){return N}})},5961:function(t,e,n){"use strict";n.d(e,{i:function(){return s}});var o=n(7294),i=n(7522),r=n(2526);function s(){let t=(0,o.useContext)(i.hg);(0,o.useEffect)(()=>{if(void 0===t.connectionStatus){let e=(0,r.Yc)();void 0!==e&&t.setConnectionStatus(e)}if(void 0===t.connectionStatusStellarium){let e=(0,r.Y8)();void 0!==e&&t.setConnectionStatusStellarium(e)}if(void 0===t.latitude){let e=(0,r.on)();e.latitude&&(t.setLatitude(e.latitude),t.setLongitude(e.longitude))}if(void 0===t.initialConnectionTime){let e=(0,r.Fs)();void 0!==e&&t.setInitialConnectionTime(e)}if(void 0===t.IPDwarf){let e=(0,r.db)();void 0!==e&&t.setIPDwarf(e)}if(void 0===t.connectionStatusStellarium){let e=(0,r.Y8)();void 0!==e&&t.setConnectionStatusStellarium(e)}if(void 0===t.IPStellarium){let e=(0,r.Bk)();void 0!==e&&t.setIPStellarium(e)}if(void 0===t.portStellarium){let e=(0,r.L2)();void 0!==e&&t.setPortStellarium(e)}if(void 0===t.urlStellarium){let e=(0,r.tM)();void 0!==e&&t.setUrlStellarium(e)}if(void 0===t.currentObjectListName){let e=(0,r.lW)();void 0!==e&&t.setCurrentObjectListName(e)}if(void 0===t.currentUserObjectListName){let e=(0,r.j2)();void 0!==e&&t.setUserCurrentObjectListName(e)}if(void 0===t.astroSettings.gain){let e=(0,r.$W)();void 0!==e&&t.setAstroSettings(e)}if(void 0===t.imagingSession.startTime){let e=(0,r.DE)();void 0!==e&&t.setImagingSession(e)}if(void 0===t.loggerStatus){let e=(0,r.yH)();void 0!==e&&t.setLoggerStatus(e)}if(void 0===t.logger){let e=(0,r.q$)();void 0!==e&&t.setLogger(e)}},[])}},5124:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var o=n(7294),i=n(7522),r=n(2526),s=n(5544);function l(){let t=(0,o.useContext)(i.hg);(0,o.useEffect)(()=>{let e,n;return t.connectionStatus&&(a(t,e,!1),e=setInterval(()=>{a(t,e,!0)},9e4)),t.connectionStatusStellarium&&(c(t,n,!1),n=setInterval(()=>{c(t,n,!0)},9e4)),()=>{!1===t.connectionStatus&&(console.log("unmount: delete checkDwarfConnection timer"),clearInterval(e)),!1===t.connectionStatusStellarium&&(console.log("unmount: delete checkStellariumConnection timer"),clearInterval(n))}},[])}function a(t,e,n){void 0!==t.IPDwarf&&fetch((0,s.Cz)(t.IPDwarf),{signal:AbortSignal.timeout(2e3),mode:"no-cors"}).then(()=>{console.log("Dwarf connection ok.",n?" (loop)":""),t.connectionStatus||(t.setConnectionStatus(!0),(0,r.wz)(!0),(0,r.GL)())}).catch(n=>{"AbortError"===n.name||"Failed to fetch"==n.message?(console.log("Dwarf connection error"),clearInterval(e),t.setConnectionStatus(!1),(0,r.wz)(!1)):console.log("checkDwarfConnection err ???",n.name,n.message)})}function c(t,e,n){if(void 0===t.IPStellarium)return;let o="http://".concat(t.IPStellarium,":").concat(t.portStellarium);fetch(o,{signal:AbortSignal.timeout(2e3)}).then(()=>{console.log("Stellarium connection ok.",n?" (loop)":""),t.connectionStatusStellarium||(t.setConnectionStatusStellarium(!0),(0,r.Y_)(!0))}).catch(n=>{"AbortError"===n.name||"Load failed"===n.message||"Failed to fetch"===n.message?(console.log("Stellarium connection error"),clearInterval(e),t.setConnectionStatusStellarium(!1),(0,r.Y_)(!1)):console.log("checkStellariumConnection err >>>",n.name,n.message)})}},7434:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var o=n(5893),i=n(1664),r=n.n(i),s=n(4987),l=n(5124),a=n(5961);function c(){return(0,l.s)(),(0,a.i)(),(0,o.jsxs)("div",{children:[(0,o.jsx)(s.Z,{}),(0,o.jsx)("h1",{children:"Debugging"}),(0,o.jsxs)("ol",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(r(),{href:"/logs",children:"Message Logs"})}),(0,o.jsx)("li",{children:(0,o.jsx)(r(),{href:"/dwarfii-status",children:"Camera Status"})})]})]})}}},function(t){t.O(0,[544,774,888,179],function(){return t(t.s=467)}),_N_E=t.O()}]);
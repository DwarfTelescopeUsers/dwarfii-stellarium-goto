(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{1593:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/logs",function(){return n(2122)}])},4987:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var o=n(5893),i=n(7294),r=n(7522),s=n(5544);function a(){let t=(0,i.useContext)(r.hg),e=t.connectionStatus?(0,o.jsx)("i",{className:"bi bi-check-circle",style:{color:"green"}}):(0,o.jsx)("i",{className:"bi bi-x-circle",style:{color:"red"}}),n=t.connectionStatusStellarium?(0,o.jsx)("i",{className:"bi bi-check-circle",style:{color:"green"}}):(0,o.jsx)("i",{className:"bi bi-x-circle",style:{color:"red"}});return(0,o.jsxs)("div",{className:"mb-2",children:[(0,o.jsxs)("span",{className:"me-3",children:["Dwarf II: ",e]}),(0,o.jsxs)("span",{className:"me-3",children:["Stellarium: ",n]}),void 0!==t.astroSettings.gain&&(0,o.jsxs)("span",{className:"me-3",children:["Gain: ",t.astroSettings.gain]}),void 0!==t.astroSettings.exposure&&(0,o.jsxs)("span",{className:"me-3",children:["Exp: ",t.astroSettings.exposure]}),void 0!==t.astroSettings.IR&&(0,o.jsxs)("span",{className:"me-3",children:["IR: ",t.astroSettings.IR===s.zC?"Cut":"Pass"]}),void 0!==t.astroSettings.binning&&(0,o.jsxs)("span",{className:"me-3",children:["Bin: ",0==t.astroSettings.binning?"1x1":"2x2"]}),void 0!==t.astroSettings.count&&(0,o.jsxs)("span",{className:"me-3",children:["Count: ",t.astroSettings.count]}),Object.keys(t.imagingSession).length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"me-3",children:["Taken: ",t.imagingSession.imagesTaken]}),(0,o.jsxs)("span",{className:"me-3",children:["Time: ",t.imagingSession.sessionElaspsedTime]})]})]})}},2526:function(t,e,n){"use strict";function o(t){localStorage.setItem("latitude",t.toString())}function i(t){localStorage.setItem("longitude",t.toString())}function r(){let t=localStorage.getItem("latitude"),e=localStorage.getItem("longitude");return"string"==typeof t&&"string"==typeof e?{latitude:Number(t),longitude:Number(e)}:{}}function s(t){localStorage.setItem("connectionStatus",t?"true":"false")}function a(){let t=localStorage.getItem("connectionStatus");if(t)return"true"===t}function l(){localStorage.setItem("initialConnectionTime",Date.now().toString())}function c(){let t=localStorage.getItem("initialConnectionTime");if(t)return Number(t)}function u(t){localStorage.setItem("IPDwarf",t)}function g(){let t=localStorage.getItem("IPDwarf");if(t)return t}function m(t){localStorage.setItem("connectionStatusStellarium",t?"true":"false")}function d(){let t=localStorage.getItem("connectionStatusStellarium");if(t)return"true"===t}function f(t){localStorage.setItem("IPStellarium",t)}function S(){let t=localStorage.getItem("IPStellarium");if(t)return t}function h(t){localStorage.setItem("portStellarium",t.toString())}function p(){let t=localStorage.getItem("portStellarium");if(t)return Number(t)}function v(t){localStorage.setItem("urlStellarium",t)}function b(){let t=localStorage.getItem("urlStellarium");if(t)return t}function I(t){localStorage.setItem("objectListsNames",t)}function w(){let t=localStorage.getItem("objectListsNames");if(t){let e=t.split("|");return e.sort(),e}}function N(t){localStorage.setItem("objectLists",t)}function j(){let t=localStorage.getItem("objectLists");if(t)return JSON.parse(t)}function x(t){localStorage.setItem("currentObjectListName",t)}function T(){let t=localStorage.getItem("currentObjectListName");if(t)return t}function O(t){localStorage.setItem("currentUserObjectListName",t)}function y(){let t=localStorage.getItem("currentUserObjectListName");if(t)return t}function k(){let t=localStorage.getItem("astroSettings");if(t){let e=JSON.parse(t);return["IR","binning","count","exposure","exposureMode","fileFormat","gain","gainMode"].forEach(t=>{void 0!==e[t]&&/^\d+$/.test(e[t])&&(e[t]=Number(e[t]))}),e}}function L(t,e){let n=localStorage.getItem("astroSettings");if(n){let o=JSON.parse(n);void 0===e?delete o[t]:o[t]=e,localStorage.setItem("astroSettings",JSON.stringify(o))}else localStorage.setItem("astroSettings",JSON.stringify({[t]:e}))}function C(){let t=localStorage.getItem("imagingSession");if(t){let e=JSON.parse(t);return["startTime","imagesTaken"].forEach(t=>{void 0!==e[t]&&(e[t]=Number(e[t]))}),e}}function P(t,e){let n=localStorage.getItem("imagingSession");if(n){let o=JSON.parse(n);void 0===e?delete o[t]:o[t]=e,localStorage.setItem("imagingSession",JSON.stringify(o))}else localStorage.setItem("imagingSession",JSON.stringify({[t]:e}))}function E(){localStorage.removeItem("imagingSession")}function M(){let t=localStorage.getItem("loggerStatus");if(t)return"true"===t}function J(t){localStorage.setItem("loggerStatus",t)}function G(){let t=localStorage.getItem("logMessages");if(t)return JSON.parse(t)}function _(t){let e=G();e?(e.push(t),localStorage.setItem("logMessages",JSON.stringify(e))):localStorage.setItem("logMessages",JSON.stringify([t]))}function z(){localStorage.removeItem("logMessages")}n.d(e,{$W:function(){return k},Bk:function(){return S},DE:function(){return C},ER:function(){return j},Fs:function(){return c},G0:function(){return z},GL:function(){return l},Gj:function(){return J},L2:function(){return p},M8:function(){return _},Nj:function(){return E},Tq:function(){return N},V6:function(){return x},Y8:function(){return d},Y_:function(){return m},Yc:function(){return a},db:function(){return g},j2:function(){return y},lW:function(){return T},m1:function(){return w},mo:function(){return P},nV:function(){return L},n_:function(){return O},nj:function(){return h},og:function(){return u},on:function(){return r},oy:function(){return o},q$:function(){return G},qz:function(){return f},tM:function(){return b},vv:function(){return I},wz:function(){return s},yH:function(){return M},z4:function(){return i},zn:function(){return v}})},5961:function(t,e,n){"use strict";n.d(e,{i:function(){return s}});var o=n(7294),i=n(7522),r=n(2526);function s(){let t=(0,o.useContext)(i.hg);(0,o.useEffect)(()=>{if(void 0===t.connectionStatus){let e=(0,r.Yc)();void 0!==e&&t.setConnectionStatus(e)}if(void 0===t.connectionStatusStellarium){let e=(0,r.Y8)();void 0!==e&&t.setConnectionStatusStellarium(e)}if(void 0===t.latitude){let e=(0,r.on)();e.latitude&&(t.setLatitude(e.latitude),t.setLongitude(e.longitude))}if(void 0===t.initialConnectionTime){let e=(0,r.Fs)();void 0!==e&&t.setInitialConnectionTime(e)}if(void 0===t.IPDwarf){let e=(0,r.db)();void 0!==e&&t.setIPDwarf(e)}if(void 0===t.connectionStatusStellarium){let e=(0,r.Y8)();void 0!==e&&t.setConnectionStatusStellarium(e)}if(void 0===t.IPStellarium){let e=(0,r.Bk)();void 0!==e&&t.setIPStellarium(e)}if(void 0===t.portStellarium){let e=(0,r.L2)();void 0!==e&&t.setPortStellarium(e)}if(void 0===t.urlStellarium){let e=(0,r.tM)();void 0!==e&&t.setUrlStellarium(e)}if(void 0===t.currentObjectListName){let e=(0,r.lW)();void 0!==e&&t.setCurrentObjectListName(e)}if(void 0===t.currentUserObjectListName){let e=(0,r.j2)();void 0!==e&&t.setUserCurrentObjectListName(e)}if(void 0===t.astroSettings.gain){let e=(0,r.$W)();void 0!==e&&t.setAstroSettings(e)}if(void 0===t.imagingSession.startTime){let e=(0,r.DE)();void 0!==e&&t.setImagingSession(e)}if(void 0===t.loggerStatus){let e=(0,r.yH)();void 0!==e&&t.setLoggerStatus(e)}if(void 0===t.logger){let e=(0,r.q$)();void 0!==e&&t.setLogger(e)}},[])}},2122:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var o=n(5893),i=n(7294),r=n(7522),s=n(5961),a=n(2526);let l={0:"operate successfully","-1":"The camera is on","-2":"The camera is off","-3":"On video","-4":"Being photographed","-5":"Motor in motion","-6":"Motor stopped","-7":"Motor instruction failed to be sent","-8":"anorama scanning is enabled","-9":"The motor stops first and then moves, which will cause the motor to stop","-10":"The beat is suspended","-11":"Autofocus","-12":"Tracing algorithm is not initialized","-13":"Tracing algorithm initialization","-14":"The tracing algorithm is initialized","-15":"Under tracking","-16":"OTA upgrade","-17":"JPG failed to convert to FITS. Procedure","-18":"Plate Solving failed","-19":"Level correction failure","-20":"Bluetooth configuration in wifi","-21":"The wifi has been configured","-22":"Motor reaches limit","-23":"The microSD is not detected","-24":"Motor not reset","-39":"The Bluetooth wifi configuration fails. Procedure","-25":"OTA upgrade error","-26":"Low electric quantity","-27":"OTA version error","-28":"plate solving","-29":"Be correcting","-30":"Be tracking","-31":"Stopping GOTO","-32":"Failed to open wide Angle","-33":"The UVC camera cannot be recognized","-34":"Tracking stop","-35":"Time lapse photography in progress","-36":"In auto focusing","-37":"Bluetooth password error","-38":"wifi password error","-40":"In panoramaing","-41":"No dark field","-42":"Dark scene shot failed","-43":"RAW image shooting power is low","-44":"Stopping the telephoto camera","-45":"GOTO target below the horizon","-46":"GOTO or correction may bump limits","-47":"Astronomical autofocus","-48":"Failed to obtain the motor position in panorama","-49":"The panorama is beyond the horizontal photo range","-50":"Panoramic view beyond the pitch shot range","-51":"Panoramic level extends clockwise","-52":"Panoramic horizontal counterclockwise direction beyond","-53":"Panoramic pitch up and out","-54":"Panoramic pitch down and out","-55":"Astronomical autofocus didn't find the right star","-56":"Astronomical autofocus did not recognize the star point","-57":"Correction reset motor failed","-58":"Tracking the flying object","-59":"Failed to obtain the wifi list","-60":"The router upgraded firmware download timed out","-61":"Failed to download the router upgrade firmware","-62":"Download the OTA firmware","-63":"Camera busy","-64":"Illegal gain parameters for RAW shooting (outside the dark field range)",1e3:"Start correction",1001:"Correcting Plate Solving",1002:"Correction failure",1003:"Start GOTO",1004:"GOTO Plate Solving",1005:"Start tracking",1006:"GOTO failure",1007:"Stopping Astronomy function",1008:"End of astronomy function",1009:"Correct successfully"},c={1e4:"turn on camera",10017:"turn off camera",10006:"take photo",10007:"start recording",10009:"stop recording",10018:"start timelapse",10019:"stop timelapse",10204:"set brightness value",10205:"set contrast value",10206:"set saturation value",10207:"set hue value",10208:"set sharpness value",10001:"set exposure mode",10003:"set exposure value",10004:"set gain mode",10005:"set gain value",10211:"autofocus",10212:"set white balance mode",10213:"set white balance scence",10214:"set white balance color",10203:"set ir",10215:"status telephoto",10216:"status ir telephoto",10022:"status working state telephoto",10217:"status wideangle",11003:"power aquistion",11205:"calibrate goto",11203:"start goto",10011:"take astro photo",10015:"stop astro photo",10014:"number raw images",10020:"set raw preview",10026:"take astro dark frames",10027:"query shot field",11200:"trace init",11201:"start tracking",11202:"stop tracking",10103:"start pano",10106:"stop pano",10100:"start motion",10101:"stop motion",10107:"set speed",10108:"set direction",10109:"set subdivide",11407:"system status",11405:"microsd status",11409:"microsd available",11410:"dwarf software version",11011:"dwarf charging status",11004:"shut down"};function u(t){let e,n;let{message:i}=t;return(0,o.jsxs)("div",{className:"card mt-3",children:[(0,o.jsx)("div",{className:"card-header",children:(e=c[i.interface],(n=l[i.code])&&e?(0,o.jsxs)("div",{children:[e,": ",n]}):n?(0,o.jsx)("div",{children:n}):e?(0,o.jsx)("div",{children:e}):(0,o.jsx)("div",{children:"??? unknown "}))}),(0,o.jsx)("div",{className:"card-body",children:(0,o.jsx)("pre",{children:JSON.stringify(i,null,2)})})]})}function g(){(0,s.i)();let t=(0,i.useContext)(r.hg),[e,n]=(0,i.useState)(t.logger);function l(){t.loggerStatus?(0,a.Gj)("false"):(0,a.Gj)("true"),t.setLoggerStatus(t=>!t)}(0,i.useEffect)(()=>{let t=t=>{let{key:e,newValue:o}=t;"logMessages"===e&&n(JSON.parse(o))};return window.addEventListener("storage",t),()=>{window.removeEventListener("storage",t)}},[]);let c=(null==e?void 0:e.length)?e:t.logger;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Message Log"}),(0,o.jsx)("p",{children:"If turn on the logger, this app will save and display all the messages sent between this app and Dwarf II. The messages are ordered from oldest to newest."}),(0,o.jsxs)("div",{className:"mb-3",children:["Log status: ",t.loggerStatus?"on":"off",t.loggerStatus&&(0,o.jsxs)("span",{children:[", ",(null==c?void 0:c.length)||0," messages"]})]}),!t.loggerStatus&&(0,o.jsx)("button",{className:"btn btn-primary",onClick:l,children:"Turn on logger"}),t.loggerStatus&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:"btn btn-primary me-3",onClick:l,children:"Turn off logger"}),(0,o.jsx)("button",{className:"btn btn-primary",onClick:function(){t.setLogger(void 0),(0,a.G0)(),n(void 0)},children:"Delete all messages"})]}),t.loggerStatus&&c&&c.map((t,e)=>(0,o.jsx)(u,{message:t},e))]})}var m=n(4987);function d(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m.Z,{}),(0,o.jsx)(g,{})]})}}},function(t){t.O(0,[544,774,888,179],function(){return t(t.s=1593)}),_N_E=t.O()}]);
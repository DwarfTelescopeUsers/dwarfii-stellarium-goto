"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[782],{4987:function(t,e,n){n.d(e,{Z:function(){return c}});var o=n(5893),r=n(7294),i=n(7522),u=n(5544);function c(){let t=(0,r.useContext)(i.hg),e=t.connectionStatus?(0,o.jsx)("i",{className:"bi bi-check-circle",style:{color:"green"}}):(0,o.jsx)("i",{className:"bi bi-x-circle",style:{color:"red"}}),n=t.connectionStatusStellarium?(0,o.jsx)("i",{className:"bi bi-check-circle",style:{color:"green"}}):(0,o.jsx)("i",{className:"bi bi-x-circle",style:{color:"red"}});return(0,o.jsxs)("div",{className:"mb-2",children:[(0,o.jsxs)("span",{className:"me-3",children:["Dwarf II: ",e]}),(0,o.jsxs)("span",{className:"me-3",children:["Stellarium: ",n]}),void 0!==t.astroSettings.gain&&(0,o.jsxs)("span",{className:"me-3",children:["Gain: ",t.astroSettings.gain]}),void 0!==t.astroSettings.exposure&&(0,o.jsxs)("span",{className:"me-3",children:["Exp: ",t.astroSettings.exposure]}),void 0!==t.astroSettings.IR&&(0,o.jsxs)("span",{className:"me-3",children:["IR: ",t.astroSettings.IR===u.zC?"Cut":"Pass"]}),void 0!==t.astroSettings.binning&&(0,o.jsxs)("span",{className:"me-3",children:["Bin: ",0==t.astroSettings.binning?"1x1":"2x2"]}),void 0!==t.astroSettings.count&&(0,o.jsxs)("span",{className:"me-3",children:["Count: ",t.astroSettings.count]}),Object.keys(t.imagingSession).length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{className:"me-3",children:["Taken: ",t.imagingSession.imagesTaken]}),(0,o.jsxs)("span",{className:"me-3",children:["Time: ",t.imagingSession.sessionElaspsedTime]})]})]})}},2526:function(t,e,n){function o(t){localStorage.setItem("latitude",t.toString())}function r(t){localStorage.setItem("longitude",t.toString())}function i(){let t=localStorage.getItem("latitude"),e=localStorage.getItem("longitude");return"string"==typeof t&&"string"==typeof e?{latitude:Number(t),longitude:Number(e)}:{}}function u(t){localStorage.setItem("connectionStatus",t?"true":"false")}function c(){let t=localStorage.getItem("connectionStatus");if(t)return"true"===t}function l(){localStorage.setItem("initialConnectionTime",Date.now().toString())}function a(){let t=localStorage.getItem("initialConnectionTime");if(t)return Number(t)}function s(t){localStorage.setItem("IPDwarf",t)}function f(){let t=localStorage.getItem("IPDwarf");if(t)return t}function m(t){localStorage.setItem("connectionStatusStellarium",t?"true":"false")}function g(){let t=localStorage.getItem("connectionStatusStellarium");if(t)return"true"===t}function S(t){localStorage.setItem("IPStellarium",t)}function d(){let t=localStorage.getItem("IPStellarium");if(t)return t}function N(t){localStorage.setItem("portStellarium",t.toString())}function b(){let t=localStorage.getItem("portStellarium");if(t)return Number(t)}function v(t){localStorage.setItem("urlStellarium",t)}function I(){let t=localStorage.getItem("urlStellarium");if(t)return t}function h(t){localStorage.setItem("objectListsNames",t)}function p(){let t=localStorage.getItem("objectListsNames");if(t){let e=t.split("|");return e.sort(),e}}function j(t){localStorage.setItem("objectLists",t)}function x(){let t=localStorage.getItem("objectLists");if(t)return JSON.parse(t)}function C(t){localStorage.setItem("currentObjectListName",t)}function O(){let t=localStorage.getItem("currentObjectListName");if(t)return t}function L(t){localStorage.setItem("currentUserObjectListName",t)}function w(){let t=localStorage.getItem("currentUserObjectListName");if(t)return t}function D(){let t=localStorage.getItem("astroSettings");if(t){let e=JSON.parse(t);return["IR","binning","count","exposure","exposureMode","fileFormat","gain","gainMode"].forEach(t=>{void 0!==e[t]&&/^\d+$/.test(e[t])&&(e[t]=Number(e[t]))}),e}}function k(t,e){let n=localStorage.getItem("astroSettings");if(n){let o=JSON.parse(n);void 0===e?delete o[t]:o[t]=e,localStorage.setItem("astroSettings",JSON.stringify(o))}else localStorage.setItem("astroSettings",JSON.stringify({[t]:e}))}function M(){let t=localStorage.getItem("imagingSession");if(t){let e=JSON.parse(t);return["startTime","imagesTaken"].forEach(t=>{void 0!==e[t]&&(e[t]=Number(e[t]))}),e}}function y(t,e){let n=localStorage.getItem("imagingSession");if(n){let o=JSON.parse(n);void 0===e?delete o[t]:o[t]=e,localStorage.setItem("imagingSession",JSON.stringify(o))}else localStorage.setItem("imagingSession",JSON.stringify({[t]:e}))}function T(){localStorage.removeItem("imagingSession")}function E(){let t=localStorage.getItem("loggerStatus");if(t)return"true"===t}function P(t){localStorage.setItem("loggerStatus",t)}function J(){let t=localStorage.getItem("logMessages");if(t)return JSON.parse(t)}function z(t){let e=J();e?(e.push(t),localStorage.setItem("logMessages",JSON.stringify(e))):localStorage.setItem("logMessages",JSON.stringify([t]))}function Y(){localStorage.removeItem("logMessages")}n.d(e,{$W:function(){return D},Bk:function(){return d},DE:function(){return M},ER:function(){return x},Fs:function(){return a},G0:function(){return Y},GL:function(){return l},Gj:function(){return P},L2:function(){return b},M8:function(){return z},Nj:function(){return T},Tq:function(){return j},V6:function(){return C},Y8:function(){return g},Y_:function(){return m},Yc:function(){return c},db:function(){return f},j2:function(){return w},lW:function(){return O},m1:function(){return p},mo:function(){return y},nV:function(){return k},n_:function(){return L},nj:function(){return N},og:function(){return s},on:function(){return i},oy:function(){return o},q$:function(){return J},qz:function(){return S},tM:function(){return I},vv:function(){return h},wz:function(){return u},yH:function(){return E},z4:function(){return r},zn:function(){return v}})},5961:function(t,e,n){n.d(e,{i:function(){return u}});var o=n(7294),r=n(7522),i=n(2526);function u(){let t=(0,o.useContext)(r.hg);(0,o.useEffect)(()=>{if(void 0===t.connectionStatus){let e=(0,i.Yc)();void 0!==e&&t.setConnectionStatus(e)}if(void 0===t.connectionStatusStellarium){let e=(0,i.Y8)();void 0!==e&&t.setConnectionStatusStellarium(e)}if(void 0===t.latitude){let e=(0,i.on)();e.latitude&&(t.setLatitude(e.latitude),t.setLongitude(e.longitude))}if(void 0===t.initialConnectionTime){let e=(0,i.Fs)();void 0!==e&&t.setInitialConnectionTime(e)}if(void 0===t.IPDwarf){let e=(0,i.db)();void 0!==e&&t.setIPDwarf(e)}if(void 0===t.connectionStatusStellarium){let e=(0,i.Y8)();void 0!==e&&t.setConnectionStatusStellarium(e)}if(void 0===t.IPStellarium){let e=(0,i.Bk)();void 0!==e&&t.setIPStellarium(e)}if(void 0===t.portStellarium){let e=(0,i.L2)();void 0!==e&&t.setPortStellarium(e)}if(void 0===t.urlStellarium){let e=(0,i.tM)();void 0!==e&&t.setUrlStellarium(e)}if(void 0===t.currentObjectListName){let e=(0,i.lW)();void 0!==e&&t.setCurrentObjectListName(e)}if(void 0===t.currentUserObjectListName){let e=(0,i.j2)();void 0!==e&&t.setUserCurrentObjectListName(e)}if(void 0===t.astroSettings.gain){let e=(0,i.$W)();void 0!==e&&t.setAstroSettings(e)}if(void 0===t.imagingSession.startTime){let e=(0,i.DE)();void 0!==e&&t.setImagingSession(e)}if(void 0===t.loggerStatus){let e=(0,i.yH)();void 0!==e&&t.setLoggerStatus(e)}if(void 0===t.logger){let e=(0,i.q$)();void 0!==e&&t.setLogger(e)}},[])}},5124:function(t,e,n){n.d(e,{s:function(){return c}});var o=n(7294),r=n(7522),i=n(2526),u=n(5544);function c(){let t=(0,o.useContext)(r.hg);(0,o.useEffect)(()=>{let e,n;return t.connectionStatus&&(l(t,e,!1),e=setInterval(()=>{l(t,e,!0)},9e4)),t.connectionStatusStellarium&&(a(t,n,!1),n=setInterval(()=>{a(t,n,!0)},9e4)),()=>{!1===t.connectionStatus&&(console.log("unmount: delete checkDwarfConnection timer"),clearInterval(e)),!1===t.connectionStatusStellarium&&(console.log("unmount: delete checkStellariumConnection timer"),clearInterval(n))}},[])}function l(t,e,n){void 0!==t.IPDwarf&&fetch((0,u.Cz)(t.IPDwarf),{signal:AbortSignal.timeout(2e3),mode:"no-cors"}).then(()=>{console.log("Dwarf connection ok.",n?" (loop)":""),t.connectionStatus||(t.setConnectionStatus(!0),(0,i.wz)(!0),(0,i.GL)())}).catch(n=>{"AbortError"===n.name||"Failed to fetch"==n.message?(console.log("Dwarf connection error"),clearInterval(e),t.setConnectionStatus(!1),(0,i.wz)(!1)):console.log("checkDwarfConnection err ???",n.name,n.message)})}function a(t,e,n){if(void 0===t.IPStellarium)return;let o="http://".concat(t.IPStellarium,":").concat(t.portStellarium);fetch(o,{signal:AbortSignal.timeout(2e3)}).then(()=>{console.log("Stellarium connection ok.",n?" (loop)":""),t.connectionStatusStellarium||(t.setConnectionStatusStellarium(!0),(0,i.Y_)(!0))}).catch(n=>{"AbortError"===n.name||"Load failed"===n.message||"Failed to fetch"===n.message?(console.log("Stellarium connection error"),clearInterval(e),t.setConnectionStatusStellarium(!1),(0,i.Y_)(!1)):console.log("checkStellariumConnection err >>>",n.name,n.message)})}},1196:function(t,e,n){n.d(e,{Eu:function(){return u},tS:function(){return i},vw:function(){return o}});let o=function(t){var e=new Date(t.getFullYear(),0,1),n=new Date(t.getFullYear(),6,1);let o=Math.max(e.getTimezoneOffset(),n.getTimezoneOffset());return t.getTimezoneOffset()<o};function r(t){let e=Math.floor(t/60),n=0;return e>59&&(n=Math.floor(e/60),e%=60),{hours:n,minutes:e,seconds:Math.floor(t%60)}}function i(t,e){if(void 0!==t&&void 0!==e)return r(t*e)}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();if(void 0!==t)return r((e-t)/1e3)}},6345:function(t,e,n){n.d(e,{k:function(){return r}});var o=n(2526);function r(t,e,n){console.log(t,e),n.loggerStatus&&(n.setLogger(t=>null==t?void 0:t.concat(e)),(0,o.M8)(e))}},8209:function(t,e,n){n.d(e,{$f:function(){return l},Jg:function(){return a},L8:function(){return c},V2:function(){return u},Yq:function(){return s},r9:function(){return i},vX:function(){return f},w6:function(){return r}});var o=n(4890);function r(t,e,n){return Array.from({length:(e-t)/n+1},(e,o)=>t+o*n)}function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=u(t);if(n){let{hour:t,minute:o,second:r}=n;return m((Number(t)+Number(o)/60+Number(r)/3600)*15,e)}let o=t.match(/([-0-9.]+)/);return o?m(Number(o[1]),e):Number(t)}function u(t){let e=t.match(/(\d{1,2})[hH] *(\d{1,2})[mM'] *([0-9.]+)[sS"]+/);if(e){let[t,n,o,r]=e;return{hour:Number(n),minute:Number(o),second:Number(r)}}if(e=t.match(/(\d{1,2}):(\d{1,2}):([0-9.]+)/)){let[t,n,o,r]=e;return{hour:Number(n),minute:Number(o),second:Number(r)}}}function c(t){let e=u(t);if(e){let{hour:t,minute:n,second:o}=e;return"".concat(t,"h ").concat(n,"m ").concat(o,"s")}let n=t.match(/([-0-9.]+)/);if(n){let t;let{hour:e,minute:o,second:r}={hour:0|((t=Number(n[1])/15)<0?t=-t:t),minute:0|(t+=1e-9)%1*60,second:(0|60*t%1*6e3)/100};return"".concat(e,"h ").concat(o,"m ").concat(r,"s")}}function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=s(t);if(n){let{negative:t,degree:e,minute:r,second:i}=n;return o.fb.DMSToDeg(t,Number(e),Number(r),Number(i))}let r=t.match(/([-0-9.]+)/);return r?m(Number(r[1]),e):Number(t)}function a(t){let e=s(t);if(e){let{negative:t,degree:n,minute:o,second:r}=e,i=r.toString().split("."),u=f(Number(i[0]));i[1]&&(u=u+"."+i[1]);let c="".concat(f(n),"\xb0 ").concat(f(o),"' ").concat(u,'"');return t?"-"+c:"+"+c}let n=t.match(/([-0-9.]+)/);if(n){let{negative:t,degree:e,minute:r,second:i}=function(t){let e=o.fb.degToDMS(t);return{negative:e[0],degree:e[1],minute:e[2],second:e[3]}}(Number(n[1])),u=i.toString().split("."),c=f(Number(u[0]));u[1]&&(c=c+"."+u[1]);let l="".concat(f(e),"\xb0 ").concat(f(r),"' ").concat(c,'"');return t?"-"+l:"+"+l}}function s(t){let e=t.match(/(\d{1,3})° *(\d{1,2})' *([0-9.]+)"/);if(e){let[n,o,r,i]=e;return{negative:"-"===t[0],degree:Number(o),minute:Number(r),second:Number(i)}}if(e=t.match(/(\d{1,2}):(\d{1,2}):([0-9.]+)/)){let[n,o,r,i]=e;return{negative:"-"===t[0],degree:Number(o),minute:Number(r),second:Number(i)}}}function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.toString().padStart(e,"0")}function m(t,e){return Number(Math.round(parseFloat(t+"e"+e))+"e-"+e)}}}]);